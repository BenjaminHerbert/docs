{
    "app_name": "swarmdocs",
    "services": [
        {
            "service_name": "proxy",
            "components": [
                {
                    "component_name": "proxy",
                    "image": "$proxy_image",
                    "ports": [ "80/tcp" ],
                    "dependencies": [
                        {
                            "name": "mkdocs-master/mkdocs",
                            "port": 8000,
                            "alias": "mkdocsmaster"
                        },
                        {
                            "name": "mkdocs-slave/mkdocs",
                            "port": 8000,
                            "alias": "mkdocsslave"
                        },
                        {
                            "name": "sitesearch/sitesearch",
                            "port": 9200,
                            "alias": "sitesearch"
                        }
                    ],
                    "domains": {
                        "$domain1_name": "80"
                    }
                }
            ]
        },
        {
            "service_name": "mkdocs-master",
            "components": [
                {
                    "component_name": "mkdocs",
                    "image": "$mkdocs_image",
                    "ports": [ "8000/tcp" ],
                    "dependencies": [
                        {
                            "name": "sitesearch/sitesearch",
                            "port": 9200,
                            "alias": "sitesearch"
                        }
                    ]
                }
            ]
        },
        {
            "service_name": "mkdocs-slave",
            "components": [
                {
                    "component_name": "mkdocs",
                    "image": "$mkdocs_image",
                    "ports": [ "8000/tcp" ]
                }
            ]
        },
        {
            "service_name": "sitesearch",
            "components": [
                {
                    "component_name": "sitesearch",
                    "image": "$sitesearch_image",
                    "ports": [ "9200/tcp" ]
                }
            ]
        }
    ]
}
